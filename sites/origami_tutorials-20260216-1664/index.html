<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Origami Tutorials - Free Tools</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .header { background: white; padding: 20px; border-radius: 10px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .header h1 { color: #333; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin: 20px 0; }
        .module { background: white; border-radius: 10px; padding: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); transition: 0.3s; }
        .module.unlocked { background: #e8f5e9; border-left: 5px solid #4caf50; }
        .module h2 { color: #444; margin-bottom: 15px; }
        .module p { color: #666; margin-bottom: 20px; }
        .price { font-size: 24px; font-weight: bold; color: #2c3e50; margin-bottom: 15px; }
        .buy-btn { background: #3498db; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; width: 100%; font-size: 16px; }
        .buy-btn:hover { background: #2980b9; }
        .buy-btn.unlocked { background: #4caf50; cursor: default; }
        .buy-btn.unlocked:hover { background: #4caf50; }
        .wallet { background: #ecf0f1; padding: 20px; border-radius: 10px; text-align: center; margin: 20px 0; }
        .wallet-address { font-family: monospace; background: white; padding: 10px; border-radius: 5px; margin: 10px 0; word-break: break-all; }
        .status { margin-top: 20px; padding: 10px; border-radius: 5px; display: none; }
        .status.success { background: #d4edda; color: #155724; display: block; }
        .status.error { background: #f8d7da; color: #721c24; display: block; }
        
        <div style="font-size: 10px; color: #666; margin-top: 30px; padding: 10px; border-top: 1px solid #eee; text-align: center;">
            This site is for informational purposes only. Not financial advice. 
            Templates are digital products - no refunds after download.
            &copy; 2026 All rights reserved.
        </div>
        
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Origami Tutorials Tools</h1>
            <p>Free tools and templates to help you get started</p>
        </div>
        
        <div id="statusMessage" class="status"></div>
        
        <div class="grid" id="modules"></div>
        
        <div class="wallet">
            <h3>Support the project</h3>
            <p>Send USDT (TRC20) to unlock modules:</p>
            <div class="wallet-address">TFta1g9CYf3S538HCYN9zCuuCEMNYxF1D7</div>
            <p style="color: #7f8c8d;">5 USDT per module • Automatic unlock</p>
            <p><small>After sending, refresh the page or wait 30 seconds</small></p>
        </div>
    </div>
    
    <script>
        const modules = [
  {
    "type": "calculator",
    "title": "Calculator for origami tutorials",
    "content": "Generated: Write a short description for a calculator tool about origami tutorials. 2-3 sentences.",
    "price": 5,
    "wallet": "TFta1g9CYf3S538HCYN9zCuuCEMNYxF1D7"
  },
  {
    "type": "planner",
    "title": "Planner for origami tutorials",
    "content": "Generated: Write a short description for a planner tool about origami tutorials.",
    "price": 5,
    "wallet": "TFta1g9CYf3S538HCYN9zCuuCEMNYxF1D7"
  },
  {
    "type": "generator",
    "title": "Generator for origami tutorials",
    "content": "Generated: Write a short description for a generator tool about origami tutorials.",
    "price": 5,
    "wallet": "TFta1g9CYf3S538HCYN9zCuuCEMNYxF1D7"
  },
  {
    "type": "checklist",
    "title": "Checklist for origami tutorials",
    "content": "Generated: Create a checklist of 5 items for origami tutorials.",
    "price": 5,
    "wallet": "TFta1g9CYf3S538HCYN9zCuuCEMNYxF1D7"
  },
  {
    "type": "tracker",
    "title": "Tracker for origami tutorials",
    "content": "Generated: Write a short description for a tracker tool about origami tutorials.",
    "price": 5,
    "wallet": "TFta1g9CYf3S538HCYN9zCuuCEMNYxF1D7"
  }
];
        const siteName = "origami_tutorials-20260216-1664";
        const container = document.getElementById('modules');
        const statusDiv = document.getElementById('statusMessage');
        
        // Загружаем купленные модули из localStorage
        let unlockedModules = [];
        try {
            const saved = localStorage.getItem(`unlocked_${siteName}`);
            if (saved) {
                unlockedModules = JSON.parse(saved);
            }
        } catch(e) {}
        
        // Отображаем модули
        modules.forEach((module, index) => {
            const isUnlocked = unlockedModules.includes(index);
            const div = document.createElement('div');
            div.className = `module ${isUnlocked ? 'unlocked' : ''}`;
            
            let buttonHtml = '';
            if (isUnlocked) {
                buttonHtml = `<button class="buy-btn unlocked" disabled>✓ UNLOCKED</button>`;
            } else {
                buttonHtml = `<button class="buy-btn" onclick="unlock(${index})">Unlock Now ($${module.price} USDT)</button>`;
            }
            
            div.innerHTML = `
                <h2>${module.title}</h2>
                <p>${module.content}</p>
                <div class="price">$${module.price} USDT</div>
                ${buttonHtml}
            `;
            container.appendChild(div);
        });
        
        function unlock(index) {
            const wallet = "TFta1g9CYf3S538HCYN9zCuuCEMNYxF1D7";
            const amount = modules[index].price;
            
            // Показываем инструкцию
            statusDiv.className = 'status success';
            statusDiv.innerHTML = `
                <strong>⏳ Payment required</strong><br>
                Send <strong>${amount} USDT (TRC20)</strong> to:<br>
                <code style="font-size: 14px;">${wallet}</code><br>
                <small>After sending, wait 30 seconds and refresh the page</small>
            `;
            
            // Копируем адрес в буфер обмена
            navigator.clipboard?.writeText(wallet);
            
            // Начинаем проверку платежа
            checkPayment(index);
        }
        
        function checkPayment(moduleIndex) {
            statusDiv.innerHTML = 'Checking for payment... ⏳';
            
            // Каждые 10 секунд проверяем, не пришёл ли платёж
            // В реальности здесь должен быть запрос к серверу
            // Но пока просто имитируем через 30 секунд
            setTimeout(() => {
                // В реальном агенте сюда придёт подтверждение от HTX API
                // А пока просто показываем кнопку "проверить вручную"
                statusDiv.innerHTML = `
                    Payment not detected yet.<br>
                    <button onclick="location.reload()" style="margin-top: 10px; padding: 5px 15px;">
                        🔄 Refresh page
                    </button>
                `;
            }, 30000);
        }
        
        // Проверяем параметры URL (может прийти от HTX после оплаты)
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.has('payment')) {
            const txId = urlParams.get('tx_id');
            if (txId) {
                statusDiv.className = 'status success';
                statusDiv.innerHTML = `✅ Payment confirmed! Thank you for your support.`;
            }
        }
    </script>
</body>
</html>
